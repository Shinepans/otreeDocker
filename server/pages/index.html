<html>
<style>
    body {
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 2rem;
        flex-direction: column;
    }
    input {
        margin: 1rem;
        background: #2196F3;
        border: none;
        padding: 1rem;
        color: #fff;
        border-radius: 5px;
        font-size: 1rem;
        cursor: pointer;
    }
</style>
<body>
<div>
    上传 Otree 实验打包文件 (zip 打包文件, zip文件名与oTree实验名同)
</div>
<div>
    <input type='file' name='file' id='file' onchange='fileUpload()' style='display:none'/>
    <input type='button' onclick="select_file()" value="上传我的文件"/>
</div>
</body>

<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script>
    function select_file() {
        $("#file").trigger("click")
    }

    function fileUpload() {
        var formData = new FormData()
        formData.append('file', $('#file')[0].files[0])
        $.ajax({
            url: '/upload',
            type: 'POST',
            data: formData,
            contentType: false,
            processData: false,
            dataType: 'json',
            clearForm: true,
            success: function (data) {
                alert('上传成功', data)
            },
            error: function (data, status, e) {
                console.error(e)
            }
        })
    }
</script>
</html>
